<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全球体光环时钟</title>
    <style>
        /* 页面基本样式 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #111;
            font-family: sans-serif;
        }

        /* ================= 精细白色光环容器 ================= */
        .clock-ring {
            position: relative;
            width: 320px;
            height: 320px;
            border-radius: 50%;
            border: 20px solid #ffffff; /* 20px 精细光环 */
            background-color: transparent; 
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.3);
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ================= 中心文字显示区域 ================= */
        .center-display {
            text-align: center;
            z-index: 1;
        }
        #time-text {
            color: #ffffff;
            font-size: 3em;
            font-weight: 700;
            letter-spacing: 2px;
            margin-bottom: 5px;
            font-variant-numeric: tabular-nums;
        }
        #date-text {
            color: #bbbbbb;
            font-size: 1.1em;
            font-weight: 400;
        }


        /* ================= 统一的定位逻辑 ================= */
        .tick-mark, .orbit-hand {
            position: absolute;
            top: 50%;
            left: 50%;
            /* 
               所有元素都统一在标准光环中心线上 (-150px)。
               允许它们在轨道上自由重叠。
            */
            transform: translate(-50%, -50%) rotate(var(--deg)) translateY(-150px);
        }

        /* ================= 环内黑色刻度 ================= */
        /* 刻度保持为黑色条状，作为背景参照 */
        .tick-mark {
            width: 2px;
            height: 20px;
            background-color: #000; 
            z-index: 5; /* 刻度层级最低 */
        }
        .tick-mark.hour-tick { width: 3px; }

        /* ================= 环内球体指针 ================= */
        /* 通用样式：圆球、有阴影 */
        .orbit-hand {
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(0,0,0,0.6);
        }

        /* 1. 时针球：深灰、大 */
        .hour-hand {
            width: 20px;
            height: 20px;
            background-color: #333; /* 深灰色 */
            z-index: 20; /* 层级最低 */
        }

        /* 2. 分针球：浅灰、中 */
        .min-hand {
            width: 14px;
            height: 14px;
            background-color: #999; /* 浅灰色 */
            z-index: 21; /* 层级中间 */
        }

        /* 3. 秒针球：红色、小 */
        .sec-hand {
            width: 8px;
            height: 8px;
            background-color: #c00; /* 红色 */
            z-index: 22; /* 层级最高，确保在最上面 */
        }

        /* 平滑过渡 */
        .hour-hand, .min-hand {
            transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        /* 秒针不加过渡，保持精确跳动感 (或根据喜好添加极短过渡) */
        
    </style>
</head>
<body>

<div class="clock-ring">
    
    <div class="center-display">
        <div id="time-text">--:--:--</div>
        <div id="date-text">---- 年 -- 月 -- 日</div>
    </div>

    <div class="ticks">
        <div class="tick-mark hour-tick" style="--deg: 0deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 30deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 60deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 90deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 120deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 150deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 180deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 210deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 240deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 270deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 300deg;"></div>
        <div class="tick-mark hour-tick" style="--deg: 330deg;"></div>
    </div>

    <div id="hour-hand" class="orbit-hand hour-hand" style="--deg: 0deg;"></div>
    <div id="min-hand" class="orbit-hand min-hand" style="--deg: 0deg;"></div>
    <div id="sec-hand" class="orbit-hand sec-hand" style="--deg: 0deg;"></div>

</div>

<script>
    const hourHand = document.getElementById('hour-hand');
    const minHand = document.getElementById('min-hand');
    const secHand = document.getElementById('sec-hand');
    const timeText = document.getElementById('time-text');
    const dateText = document.getElementById('date-text');

    function pad(num) { return num.toString().padStart(2, '0'); }

    let secOffset = 0;
    let lastSeconds = -1;

    function updateClock() {
        const now = new Date();
        const seconds = now.getSeconds();
        const minutes = now.getMinutes();
        const hours = now.getHours();

        if (lastSeconds > seconds) { secOffset += 360; }
        lastSeconds = seconds;

        const secDeg = seconds * 6 + secOffset;
        const minDeg = (minutes + seconds / 60) * 6;
        const hourDeg = ((hours % 12) + minutes / 60) * 30;

        secHand.style.setProperty('--deg', `${secDeg}deg`);
        minHand.style.setProperty('--deg', `${minDeg}deg`);
        hourHand.style.setProperty('--deg', `${hourDeg}deg`);

        timeText.textContent = `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
        dateText.textContent = `${now.getFullYear()} 年 ${pad(now.getMonth() + 1)} 月 ${pad(now.getDate())} 日`;
    }

    lastSeconds = new Date().getSeconds();
    function animate() {
        updateClock();
        requestAnimationFrame(animate);
    }
    animate();

</script>

</body>
</html>
