<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博物馆级蒸汽朋克时钟</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap');

        /* --- 1. 沉浸式环境 --- */
        body {
            background-color: #111;
            /* 背景：深色红木纹理质感 */
            background-image: 
                radial-gradient(circle at 50% 30%, #2a1a10 0%, #080502 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            font-family: 'Cinzel', serif;
        }

        /* --- 2. 整体容器 --- */
        .clock-container {
            position: relative;
            width: 460px;
            height: 460px;
            border-radius: 50%;
            /* 外部强烈投影，模拟挂在墙上或放在桌上的体积感 */
            box-shadow: 
                0 30px 60px rgba(0,0,0,0.8),
                0 10px 20px rgba(0,0,0,0.6);
        }

        /* --- 3. 金属外壳 (Bezel) --- */
        .bezel {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            border-radius: 50%;
            z-index: 1;
            /* 复杂的圆锥渐变模拟金属光泽 */
            background: conic-gradient(
                from 145deg, 
                #5e4b35, 
                #8c7048 10%, 
                #ffd700 18%, 
                #8c7048 25%, 
                #5e4b35 40%, 
                #3a2a1a 50%, 
                #5e4b35 60%, 
                #8c7048 75%, 
                #ffd700 85%, 
                #8c7048 90%, 
                #5e4b35
            );
            /* 外壳立体化 */
            box-shadow: 
                inset 0 0 10px rgba(0,0,0,0.8), /* 内部凹陷 */
                0 0 0 2px #221, /* 极细边缘 */
                0 0 0 12px #150f08; /* 外圈皮垫/底座 */
        }

        /* 铆钉装饰环 */
        .rivets-ring {
            position: absolute;
            top: 15px; left: 15px; right: 15px; bottom: 15px;
            border-radius: 50%;
            border: 1px dashed rgba(60, 40, 10, 0.5);
            box-shadow: inset 0 0 20px #000;
        }

        /* --- 4. 表盘 (Dial) --- */
        .dial {
            position: absolute;
            top: 25px; left: 25px; right: 25px; bottom: 25px;
            border-radius: 50%;
            background: radial-gradient(circle, #2b2015 0%, #1a120b 100%);
            z-index: 2;
            /* 增加噪点纹理模拟铸铁表面 */
            background-image: 
                url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E"),
                radial-gradient(circle, #2b2015 0%, #100a05 100%);
            box-shadow: inset 0 0 50px rgba(0,0,0,1);
            border: 2px solid #5c4305;
        }

        /* --- 5. 机械镂空区 (The Void) --- */
        .gear-void {
            position: absolute;
            top: 50%; left: 50%;
            width: 260px; height: 260px;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            /* 内部深渊 */
            background: #050301;
            box-shadow: 
                inset 0 0 30px #000,
                0 0 0 1px #745618, /* 金边装饰 */
                0 0 0 6px #1a120b, /* 边缘过渡 */
                0 1px 2px rgba(255,255,255,0.1); /* 边缘高光 */
            z-index: 3;
            overflow: hidden;
        }

        /* SVG 齿轮 */
        svg { width: 100%; height: 100%; overflow: visible; }
        .gear-group { transform-origin: center; }

        /* --- 6. 刻度与数字 --- */
        .markings {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 4;
        }

        .tick {
            position: absolute;
            background: #cba864;
            transform-origin: center bottom;
            box-shadow: 0 1px 1px rgba(0,0,0,0.8);
        }
        .tick.large {
            width: 4px; height: 12px;
            top: 10px; left: 50%; margin-left: -2px;
            transform-origin: 50% 195px; /* (460-50)/2 - 10 = 195 */
            background: linear-gradient(to bottom, #fff 0%, #cba864 100%);
        }
        .tick.small {
            width: 2px; height: 6px;
            top: 14px; left: 50%; margin-left: -1px;
            opacity: 0.5;
            transform-origin: 50% 191px;
        }

        .numeral {
            position: absolute;
            font-size: 28px;
            color: #e5d3b3;
            text-align: center;
            width: 40px; height: 40px;
            line-height: 40px;
            transform: translate(-50%, -50%);
            /* 浮雕文字效果 */
            text-shadow: 
                -1px -1px 0 rgba(0,0,0,0.8),
                1px 1px 0 rgba(255,255,255,0.1),
                0 0 5px rgba(0,0,0,1);
        }

        /* --- 7. 指针系统 --- */
        .hands-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10;
            pointer-events: none;
            /* 关键：给整个层加投影，模拟指针悬浮在表盘上的距离感 */
            filter: drop-shadow(4px 8px 6px rgba(0,0,0,0.6)); 
        }

        .hand {
            position: absolute;
            bottom: 50%; left: 50%;
            transform-origin: bottom center;
        }

        /* 时针：华丽镂空 */
        .hand-hour {
            width: 16px; height: 100px; margin-left: -8px;
            background: #1a1a1a;
            border: 2px solid #bba060;
            border-radius: 4px;
        }
        .hand-hour::after {
            content: ''; position: absolute; top: 15px; left: 3px; right: 3px; height: 70px;
            background: #000; border: 1px solid #555;
        }

        /* 分针：剑形 */
        .hand-minute {
            width: 6px; height: 155px; margin-left: -3px;
            background: linear-gradient(to right, #6d4c26, #a0733f, #6d4c26);
            border-radius: 50% 50% 2px 2px;
            box-shadow: inset 0 0 2px rgba(0,0,0,0.5);
        }

        /* 秒针：红铜色精密针 */
        .hand-second {
            width: 1px; height: 180px; margin-left: -0.5px;
            background: #ff5252;
            z-index: 12;
            /* 自身微发光 */
            box-shadow: 0 0 4px rgba(255, 82, 82, 0.6);
        }
        /* 尾部平衡器 */
        .hand-second::before {
            content: ''; position: absolute; bottom: -50px; left: -3px;
            width: 6px; height: 40px;
            background: #ff5252;
            clip-path: polygon(50% 0, 100% 20%, 50% 100%, 0% 20%);
        }

        .center-nut {
            position: absolute;
            top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 20px; height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #fff, #daa520);
            box-shadow: 0 2px 5px rgba(0,0,0,0.8);
            z-index: 20;
            border: 1px solid #5c4305;
        }

        /* --- 8. 终极玻璃罩 (The Glass Dome) --- */
        .glass-dome {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            border-radius: 50%;
            z-index: 100; /* 最高层级 */
            pointer-events: none; /* 让鼠标穿透 */
            
            /* 1. 基础光泽与边缘菲涅尔反射 */
            background: radial-gradient(
                circle at 50% 50%, 
                rgba(255,255,255,0) 50%, 
                rgba(255,255,255,0.02) 70%, 
                rgba(255,255,255,0.1) 90%, 
                rgba(255,255,255,0.3) 100%
            );

            /* 2. 模拟玻璃厚度的内阴影 */
            box-shadow: inset 0 0 50px rgba(0,0,0,0.6), inset 0 0 10px rgba(255,255,255,0.1);
        }

        /* 顶部强烈高光 (Specular Highlight) */
        .glass-dome::before {
            content: '';
            position: absolute;
            top: 30px; left: 30px;
            width: 200px; height: 120px;
            border-radius: 50%;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0) 60%);
            transform: rotate(-45deg);
            filter: blur(5px);
            opacity: 0.7;
        }

        /* 底部反光 (Rim Light) */
        .glass-dome::after {
            content: '';
            position: absolute;
            bottom: 40px; right: 40px;
            width: 150px; height: 80px;
            border-radius: 50%;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 60%);
            transform: rotate(-45deg);
            filter: blur(10px);
        }

    </style>
</head>
<body>

    <div class="clock-container">
        <!-- 外壳 -->
        <div class="bezel">
            <div class="rivets-ring"></div>
        </div>

        <!-- 表盘区域 -->
        <div class="dial">
            
            <!-- 刻度与数字 -->
            <div class="markings">
                <div id="ticks-layer"></div>
                <div id="numerals-layer"></div>
            </div>

            <!-- 机械镂空 -->
            <div class="gear-void">
                <svg viewBox="0 0 260 260">
                    <defs>
                        <!-- 高级金属材质定义 -->
                        <linearGradient id="brass" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#edd893" />
                            <stop offset="50%" stop-color="#c5a059" />
                            <stop offset="100%" stop-color="#7a5e28" />
                        </linearGradient>
                        <linearGradient id="steel" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#dce1f7" />
                            <stop offset="50%" stop-color="#7f8c8d" />
                            <stop offset="100%" stop-color="#2c3e50" />
                        </linearGradient>
                         <linearGradient id="copper" x1="100%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="#f8bfa8" />
                            <stop offset="50%" stop-color="#e07e59" />
                            <stop offset="100%" stop-color="#8b4513" />
                        </linearGradient>
                        <!-- 齿轮内部阴影，增加体积感 -->
                        <filter id="innerGlow" x="-20%" y="-20%" width="140%" height="140%">
                            <feDropShadow dx="1" dy="2" stdDeviation="2" flood-color="rgba(0,0,0,0.7)"/>
                        </filter>
                    </defs>
                    <g id="gear-assembly"></g>
                </svg>
            </div>

            <!-- 指针 -->
            <div class="hands-layer">
                <div class="hand hand-hour"></div>
                <div class="hand hand-minute"></div>
                <div class="hand hand-second"></div>
            </div>
            
            <!-- 中心轴 -->
            <div class="center-nut"></div>

        </div>

        <!-- 玻璃罩 (最顶层) -->
        <div class="glass-dome"></div>
    </div>

    <script>
        // --- 初始化 UI ---
        const ticksLayer = document.getElementById('ticks-layer');
        const numeralsLayer = document.getElementById('numerals-layer');
        
        // 1. 生成刻度
        for (let i = 0; i < 60; i++) {
            const tick = document.createElement('div');
            tick.className = i % 5 === 0 ? 'tick large' : 'tick small';
            tick.style.transform = `rotate(${i * 6}deg)`;
            ticksLayer.appendChild(tick);
        }

        // 2. 生成数字 (确保位于表盘金属环上，不被镂空遮挡)
        // 表盘直径 410px (460-50). 半径 205.
        // 镂空直径 260px. 半径 130.
        // 安全区域中间: 168px 左右
        const romans = ['XII', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI'];
        romans.forEach((num, i) => {
            const angle = (i * 30 - 90) * Math.PI / 180;
            const r = 168; 
            const cx = 205; // 410 / 2
            const cy = 205;
            
            const x = cx + r * Math.cos(angle);
            const y = cy + r * Math.sin(angle);

            const div = document.createElement('div');
            div.className = 'numeral';
            div.innerText = num;
            div.style.left = x + 'px';
            div.style.top = y + 'px';
            numeralsLayer.appendChild(div);
        });


        // --- 齿轮生成器 ---
        function createGear(cx, cy, rOuter, rInner, teeth, holeR, type) {
            let d = "";
            const step = Math.PI * 2 / teeth;
            const width = 0.45; // 齿厚

            for(let i=0; i<teeth; i++){
                const a = i*step;
                const a1 = a - step*(1-width)/2;
                const a2 = a - step*width/2;
                const a3 = a + step*width/2;
                const a4 = a + step*(1-width)/2;
                
                // 坐标计算
                const cos=Math.cos, sin=Math.sin;
                if(i===0) d+=`M ${cx+rInner*cos(a1)} ${cy+rInner*sin(a1)}`;
                else d+=` L ${cx+rInner*cos(a1)} ${cy+rInner*sin(a1)}`;
                
                d+=` L ${cx+rOuter*cos(a2)} ${cy+rOuter*sin(a2)}`;
                d+=` L ${cx+rOuter*cos(a3)} ${cy+rOuter*sin(a3)}`;
                d+=` L ${cx+rInner*cos(a4)} ${cy+rInner*sin(a4)}`;
            }
            d += " Z";
            
            // 装饰性镂空
            if(holeR > 0) {
                 d += ` M ${cx+holeR},${cy} A ${holeR},${holeR} 0 1,0 ${cx-holeR},${cy} A ${holeR},${holeR} 0 1,0 ${cx+holeR},${cy}`;
            }

            return d;
        }

        const gearAssembly = document.getElementById('gear-assembly');
        const m = 1.8; // 模数

        // 1. 主轮 (黄铜)
        const t1 = 40; 
        const r1 = t1 * m / 2; // 36
        const p1 = createGear(130, 130, r1+m, r1-1.25*m, t1, 15);
        const g1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
        g1.setAttribute('d', p1);
        g1.setAttribute('fill', 'url(#brass)');
        g1.setAttribute('filter', 'url(#innerGlow)');
        g1.setAttribute('stroke', '#5c4305');
        g1.id = 'g1';
        g1.style.transformOrigin = '130px 130px';
        gearAssembly.appendChild(g1);

        // 2. 左侧从动轮 (钢)
        const t2 = 20;
        const r2 = t2 * m / 2; // 18
        const dist2 = r1 + r2; // 54
        const ang2 = 210 * Math.PI / 180;
        const cx2 = 130 + dist2 * Math.cos(ang2);
        const cy2 = 130 + dist2 * Math.sin(ang2);
        
        const p2 = createGear(cx2, cy2, r2+m, r2-1.25*m, t2, 5);
        const g2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
        g2.setAttribute('d', p2);
        g2.setAttribute('fill', 'url(#steel)');
        g2.setAttribute('filter', 'url(#innerGlow)');
        g2.setAttribute('stroke', '#333');
        g2.id = 'g2';
        g2.style.transformOrigin = `${cx2}px ${cy2}px`;
        gearAssembly.appendChild(g2);
        
        // 3. 右侧大传动轮 (红铜)
        const t3 = 30;
        const r3 = t3 * m / 2; // 27
        const dist3 = r1 + r3; // 63
        const ang3 = -30 * Math.PI / 180;
        const cx3 = 130 + dist3 * Math.cos(ang3);
        const cy3 = 130 + dist3 * Math.sin(ang3);
        
        const p3 = createGear(cx3, cy3, r3+m, r3-1.25*m, t3, 8);
        const g3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
        g3.setAttribute('d', p3);
        g3.setAttribute('fill', 'url(#copper)');
        g3.setAttribute('filter', 'url(#innerGlow)');
        g3.setAttribute('stroke', '#4e2a15');
        g3.id = 'g3';
        g3.style.transformOrigin = `${cx3}px ${cy3}px`;
        gearAssembly.appendChild(g3);


        // --- 动画循环 ---
        function animate() {
            const now = new Date();
            const ms = now.getMilliseconds();
            const s = now.getSeconds() + ms/1000;
            const min = now.getMinutes() + s/60;
            const h = (now.getHours() % 12) + min/60;

            // 指针
            document.querySelector('.hand-second').style.transform = `rotate(${s * 6}deg)`;
            document.querySelector('.hand-minute').style.transform = `rotate(${min * 6}deg)`;
            document.querySelector('.hand-hour').style.transform = `rotate(${h * 30}deg)`;

            // 齿轮联动
            // 主轮随秒针
            const rot1 = s * 6;
            document.getElementById('g1').style.transform = `rotate(${rot1}deg)`;

            // 左轮 (-2倍速)
            const rot2 = -(rot1 * 2) + 9; // 相位微调
            document.getElementById('g2').style.transform = `rotate(${rot2}deg)`;

            // 右轮 (-1.33倍速)
            const rot3 = -(rot1 * (40/30)) + 6;
            document.getElementById('g3').style.transform = `rotate(${rot3}deg)`;

            requestAnimationFrame(animate);
        }
        animate();

    </script>
</body>
</html>
